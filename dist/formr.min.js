!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__src_Formr__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_0__src_Formr___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__src_Formr__);!function(w){void 0!==w&&(w.Formr||(w.Formr=__WEBPACK_IMPORTED_MODULE_0__src_Formr___default.a))}(window),__webpack_exports__.default=__WEBPACK_IMPORTED_MODULE_0__src_Formr___default.a},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),EMAIL_REGEXP=/(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,DEFAULT_SETTINGS={debug:!1,test_mode:!1},Formr=function(){function Formr(data){var settings=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_classCallCheck(this,Formr),!data)throw new Error("Formr :: data is not defined");this._isHTMLFormElement=!1,this._data=data,this._settings=Object.assign({},DEFAULT_SETTINGS,settings),this._values={},this._errors={},this._messages={required:"Ce champ est requis",string:"Ce champ doit être une chaîne de caractères valide",boolean:"Ce champ doit être de type booléen (vrai/faux)",number:"Ce champ ne peut contenir que des chiffres",email:"Le format de l'adresse email est invalide",length:"Ce champ doit faire entre :min et :max caractères",between:"Ce champ doit être compris entre :min et :max",under:"La valeur de ce champ doit être:strict inférieure à :max",above:"La valeur de ce champ doit être:strict supérieure à :min",same:'La valeur ":value" est différente celle attendue ":expected"',in:'Seuls les valeurs ":values" sont autorisées pour ce champ',checked:"Ce champ doit être coché",unchecked:"Ce champ ne doit pas être coché",image:"Format de fichier invalide (acceptés: :accepted_mimetypes)",type:'Le fichier doit être de type ":mimetype"'},this._initData(),this._fillValues()}return _createClass(Formr,[{key:"isValid",value:function(){return Boolean(0===Object.keys(this._errors).length)}},{key:"getErrors",value:function(){return this._errors}},{key:"required",value:function(){if(arguments.length>1)for(var i=0;i<arguments.length;i++)this.required(arguments[i]);else{var _arguments=Array.prototype.slice.call(arguments),key=_arguments[0],value=this._getValue(key);(void 0===value||this._isString(value)&&0===value.length)&&this._addError(key,"required")}return this}},{key:"string",value:function(){return this._callMultipleArgsMethod("string",arguments),this}},{key:"number",value:function(){return this._callMultipleArgsMethod("number",arguments),this}},{key:"boolean",value:function(){return this._callMultipleArgsMethod("boolean",arguments),this}},{key:"email",value:function(){return this._callMultipleArgsMethod("email",arguments),this}},{key:"checked",value:function(key){var expected=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._getValue(key)!=expected&&this._addError(key,!0===expected?"checked":"unchecked"),this}},{key:"image",value:function(key){var accepted_mimetypes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["jpg","jpeg","png","svg","tiff","bmp","gif"];if(this._isHTMLFormElement||!1!==this._settings.test_mode){var value=this._getValue(key);new RegExp(accepted_mimetypes.join("|"),"i").test(value.type)||this._addError(key,"image",{accepted_mimetypes:accepted_mimetypes.join(",")})}return this}},{key:"type",value:function(key,mimetype){if(this._isHTMLFormElement||!1!==this._settings.test_mode){this._getValue(key).type!==mimetype&&this._addError(key,"type",{mimetype:mimetype})}}},{key:"in",value:function(key,constraints){var value=this._getValue(key);return Array.isArray(constraints,value)||this._addError(key,"in",{":values":constraints.join(",")}),this}},{key:"between",value:function(key){var min=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,max=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,value=this._getValue(key);return(this._isString(value)&&(value.length<min||value.length>max)||this._isNumber(value)&&(value<min||value>max))&&this._addError(key,"length",{":min":min,":max":max}),this}},{key:"under",value:function(key){var max=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,strict=arguments.length>2&&void 0!==arguments[2]&&arguments[2],value=Number(this._getValue(key));return this._isNumber(value)&&(strict&&value>max||!strict&&value>=max)&&this._addError(key,"under",{":max":max,":strict":strict?"":" strictement"}),this}},{key:"above",value:function(key){var min=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,strict=arguments.length>2&&void 0!==arguments[2]&&arguments[2],value=Number(this._getValue(key));return this._isNumber(value)&&(strict&&value<min||!strict&&value<=min)&&this._addError(key,"above",{":min":min,":strict":strict?"":" strictement"}),this}},{key:"same",value:function(key){var comparisonValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",strict=arguments.length>2&&void 0!==arguments[2]&&arguments[2],value=Number(this._getValue(key));return(!strict&&comparisonValue!=value||strict&&comparisonValue!==value)&&this._addError(key,"same",{":expected":value,":value":comparisonValue}),this}},{key:"_getValue",value:function(key){if(void 0!==this._values[key])return this._values[key];if(void 0!==this._data[key])return this._data[key].value;throw new Error("Key '"+key+"' does not exists !")}},{key:"_fillValues",value:function(){if(!Object.keys(this._values).length)for(var i=0;i<this._data.length;i++){var item=this._data[i];void 0!==item.name&&void 0===this._values[item.name]&&(this._values[item.name]=item.value)}}},{key:"_addError",value:function(key,type){var repl=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,message=this._messages[type];message&&(repl&&(message=message.replace(new RegExp(Object.keys(repl).join("|"),"g"),function(s){return repl[s]})),this._errors[key]||(this._errors[key]=[]),this._errors[key].push(message))}},{key:"_isString",value:function(value){try{return value.constructor&&value.constructor===String||"string"==typeof value}catch(e){console.error(e)}return!1}},{key:"_isNumber",value:function(value){try{return value.constructor&&value.constructor===Number||"number"==typeof value}catch(e){console.error(e)}return!1}},{key:"_isBoolean",value:function(value){try{return value.constructor&&value.constructor===Boolean||"boolean"==typeof value}catch(e){console.error(e)}return!1}},{key:"_isEmail",value:function(value){try{return EMAIL_REGEXP.test(value)}catch(e){console.error(e)}return!1}},{key:"_normalizeData",value:function(){var arr=[];if(Object.keys(this._data).length)for(var field in this._data)arr.push({name:field,value:this._data[field]});this._data=arr}},{key:"_initData",value:function(){if(void 0!==window&&this._data.constructor===window.HTMLFormElement)this._isHTMLFormElement=!0,this._data=this._data.elements;else{if(this._data.constructor!==Object)throw new Error("Formr :: data must be a valid HTML form Element or a valid Javascript Object");this._normalizeData()}}},{key:"_callMultipleArgsMethod",value:function(rule_name){var args=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(args.length>1)for(var i=0;i<args.length;i++)this[rule_name](args[i]);else{var _args=_slicedToArray(args,1),key=_args[0],value=this._getValue(key),_assert_method_name="_is"+(rule_name.charAt(0).toUpperCase()+rule_name.slice(1));void 0!==this[_assert_method_name]&&!1===this[_assert_method_name](value)&&this._addError(key,fn)}return this}},{key:"messages",value:function(){var _messages=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._messages=Object.assign({},this._messages,_messages),this}}]),Formr}();module.exports=Formr}]);